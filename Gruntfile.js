module.exports = function (grunt) 
{
    grunt.initConfig(
    {   
        // ==================================================================================================================
        // Read Package.json for variables
        // ==================================================================================================================
               
        pkg: grunt.file.readJSON('package.json'),

        // ==================================================================================================================
        // Notify
        // ==================================================================================================================

        notify: 
        {
            less:
            {
                options:
                {
                    title: "CSS Files built",
                    message: "Less task complete"
                }
            },
            js:
            {
                options :
                {
                    title: 'JS Files Built',
                    message : 'JSHint & Uglify task complete'
                }
            }
        },
        
        // ==================================================================================================================
        // JS Hint
        // ==================================================================================================================

        jshint :
        {   
            options :
            {
                force : true
            },
            
            files : ['src/js/controller.js']
        },

        // ==================================================================================================================
        // Minify JS
        // ==================================================================================================================

        uglify : 
        {   
            options :
            {
                banner: '/*! <%= pkg.name %> <%= grunt.template.today("yyyy-mm-dd HH:MM") %> */\n'                
            },
                        
            build: 
            {
                src: 'src/js/controller.js',
                dest: 'js/controller.min.js'
            }
        },

        // ==================================================================================================================
        // Compile/Minify LESS
        // ==================================================================================================================

        less :
        {
            options :
            {
                compress : true,
                banner: '/*! <%= pkg.name %> <%= grunt.template.today("yyyy-mm-dd HH:MM") %> */\n'
            },

            development :
            {
                files :
                {
                    'css/master.css' : 'src/css/master.less'
                }
            }
        },

        // ==================================================================================================================
        // Watch Scripts/Styles
        // ==================================================================================================================

        watch :
        {
            options:
            {
                nospawn    : true,
                livereload : true,
            },

            scripts :
            {
                files : ['src/js/controller.js'],
                tasks : ['jshint', 'uglify']
            },

            stylesheets :
            {
                files : ['src/css/**/*.css', 'src/css/**/*.less'],
                tasks : ['less']
            }
        }
    });

    // ==================================================================================================================
    // Load Dependency Modules
    // ==================================================================================================================

    grunt.loadNpmTasks('grunt-contrib-uglify');
    grunt.loadNpmTasks('grunt-contrib-jshint');
    grunt.loadNpmTasks('grunt-contrib-less');
    grunt.loadNpmTasks('grunt-contrib-watch');
    grunt.loadNpmTasks('grunt-notify');

    // ==================================================================================================================
    // Register Tasks
    // ==================================================================================================================

    grunt.registerTask('default', ['jshint', 'uglify', 'less']);

};