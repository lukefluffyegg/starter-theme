!function(a,b,c){Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;return function(){return b.apply(a,arguments)}}),c.featherlight&&(c.featherlight.prototype.afterContent=function(){var a=this.$currentTarget.data("caption");a&&(this.$instance.find(".caption").remove(),c('<div class="caption text-center padding-top-10">').text(a).appendTo(this.$instance.find(".featherlight-content")))});var d={init:function(){this.homeCarousel.init(),this.menu.init(),this.videoPlayer.init(),this.locatorMap.init()},homeCarousel:{$mainEl:c("div#home-slideshow"),init:function(){this.setup()},setup:function(){this.$mainEl.slick({speed:1500,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,controls:!0})}},menu:{$el:c("#header-navigation-container > div.container > ul"),$trigger:c("#navigation-trigger"),$parents:c("span[data-parent]"),init:function(){this.events()},events:function(){this.$trigger.on("click",function(){this.$el.slideToggle(200),this.$trigger.toggleClass("active")}.bind(this)),this.$parents.on("click",function(a){a.preventDefault();var b=c(a.target);b.toggleClass("active").parent("a").next("ul").slideToggle(200)}.bind(this)),c(b).on("touchstart",function(a){this.$el.is(":visible")&&this.$trigger.is(":visible")&&(c(a.target).closest("#header-navigation-container").length||(this.$el.slideUp(200),this.$trigger.removeClass("active")))}.bind(this)),this.$el.on("touchstart","li.menu-item-has-children",function(a){if(!this.$trigger.is(":visible")){var b=c(a.currentTarget);b.hasClass("active")||(a.preventDefault(),b.addClass("active").children("ul").css({visibility:"visible",opacity:1}))}}.bind(this))}},videoPlayer:{$trigger:c("[data-video-player]"),defaults:{autoplay:0,width:720,height:415,videoPlayer:null},init:function(){this.events()},events:function(){var a=this;this.$trigger.on("click",function(b){b.preventDefault();var d=c.extend({},a.defaults,c(this).data());content='<iframe width="'+d.width+'" height="'+d.height+'" src="//www.youtube.com/embed/'+d.videoPlayer+"?autoplay="+d.autoplay+'" frameborder="0" allowfullscreen></iframe>',c.featherlight(content,{})})}},locatorMap:{$el:c("#locator-map"),bounds:null,positions:[],init:function(){this.$el.length&&this.setup()},setup:function(){var a=this;c.ajax({data:{action:"getCoords",ajax:!0},dataType:"json",type:"GET",url:wp_config.site_url+"/locator"}).done(function(b){if(a.map=new google.maps.Map(a.$el[0],{}),!b.success)return console.log(b.error);a.bounds=new google.maps.LatLngBounds;var d=new google.maps.InfoWindow;c.each(b.coords,function(b,c){var e=new google.maps.LatLng(c.lat,c.lng),f={size:new google.maps.Size(22,35),url:c.current?wp_config.site_url+"/wp-content/uploads/2015/03/marker-current.png":wp_config.site_url+"/wp-content/uploads/2015/03/marker.png"},g=new google.maps.Marker({position:e,map:a.map,icon:f});a.positions.push(e),a.bounds.extend(g.position),google.maps.event.addListener(g,"click",function(){d.setContent(c.info),d.open(a.map,g)})}),a.map.fitBounds(a.bounds);var e=new google.maps.Polyline({path:a.positions,geodesic:!0,strokeColor:"#da1a35",strokeOpacity:1,strokeWeight:3});e.setMap(a.map)}).error(function(){console.log("Error")})}}};d.init()}(window,document,jQuery);